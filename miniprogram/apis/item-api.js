"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var config_1 = require("../utils/config");
var http_client_1 = require("../utils/http-client");
var ItemApi = (function () {
    function ItemApi() {
        this.http = new http_client_1.HttpClient();
    }
    ItemApi.prototype.getTags = function () {
        return this.http.get(config_1.config.apiBaseUrl + "/item/tag");
    };
    ItemApi.prototype.getTag = function (tagId) {
        return this.http.get(config_1.config.apiBaseUrl + "/item/tag/" + tagId);
    };
    ItemApi.prototype.createTag = function (newTag) {
        return this.http.post(config_1.config.apiBaseUrl + "/item/tag", newTag);
    };
    ItemApi.prototype.updateTag = function (tagId, newTag) {
        return this.http.put(config_1.config.apiBaseUrl + "/item/tag/" + tagId, newTag);
    };
    ItemApi.prototype.deleteTag = function (tagId) {
        return this.http.delete(config_1.config.apiBaseUrl + "/item/tag/" + tagId);
    };
    ItemApi.prototype.create = function (newItem) {
        return this.http.post(config_1.config.apiBaseUrl + "/item", newItem);
    };
    ItemApi.prototype.search = function (s) {
        return this.http.get(config_1.config.apiBaseUrl + "/item/search", { s: s });
    };
    ItemApi.prototype.query = function (page, size, tagId, classId) {
        var query = { page: page, size: size };
        if (tagId) {
            query['tagId'] = tagId;
        }
        if (classId) {
            query['classId'] = classId;
        }
        return this.http.get(config_1.config.apiBaseUrl + "/item", query);
    };
    ItemApi.prototype.queryMgr = function (page, size) {
        return this.http.get(config_1.config.apiBaseUrl + "/item/mgr", {
            page: page,
            size: size
        });
    };
    ItemApi.prototype.getOne = function (id) {
        return this.http.get(config_1.config.apiBaseUrl + "/item/" + id);
    };
    ItemApi.prototype.getDetail = function (id) {
        return this.http.get(config_1.config.apiBaseUrl + "/items/detail/" + id);
    };
    ItemApi.prototype.delete = function (id) {
        return this.http.delete(config_1.config.apiBaseUrl + "/item/" + id);
    };
    ItemApi.prototype.update = function (id, newItem) {
        return this.http.put(config_1.config.apiBaseUrl + "/item/" + id, newItem);
    };
    ItemApi.prototype.lend = function (order) {
        return this.http.put(config_1.config.apiBaseUrl + "/item/lend", order);
    };
    ItemApi.prototype.loanReturn = function (recordId) {
        return this.http.put(config_1.config.apiBaseUrl + "/items/return/" + recordId);
    };
    ItemApi.prototype.getLoanedRecords = function (statusList) {
        return this.http.get(config_1.config.apiBaseUrl + "/items/loaned", { status: statusList.join(',') });
    };
    ItemApi.prototype.cancelItemLoan = function (id) {
        return this.http.delete(config_1.config.apiBaseUrl + "/items/loanRecord/cancel/" + id);
    };
    ItemApi.prototype.getLoanedRecord = function (recordId) {
        return this.http.get(config_1.config.apiBaseUrl + "/items/loanRecord/" + recordId);
    };
    ItemApi.prototype.loanedRecordStatus = function (recordId, status) {
        return this.http.put(config_1.config.apiBaseUrl + "/items/loanRecord/status/" + recordId + "/" + status);
    };
    return ItemApi;
}());
exports.ItemApi = ItemApi;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS1hcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpdGVtLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDBDQUF1QztBQUN2QyxvREFBZ0Q7QUFNaEQ7SUFHSTtRQUNJLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSx3QkFBVSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVNLHlCQUFPLEdBQWQ7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFJLGVBQU0sQ0FBQyxVQUFVLGNBQVcsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFTSx3QkFBTSxHQUFiLFVBQWMsS0FBYTtRQUN2QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFJLGVBQU0sQ0FBQyxVQUFVLGtCQUFhLEtBQU8sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSwyQkFBUyxHQUFoQixVQUFpQixNQUFlO1FBQzVCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUksZUFBTSxDQUFDLFVBQVUsY0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSwyQkFBUyxHQUFoQixVQUFpQixLQUFhLEVBQUUsTUFBZTtRQUMzQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFJLGVBQU0sQ0FBQyxVQUFVLGtCQUFhLEtBQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRU0sMkJBQVMsR0FBaEIsVUFBaUIsS0FBYTtRQUMxQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFJLGVBQU0sQ0FBQyxVQUFVLGtCQUFhLEtBQU8sQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFTSx3QkFBTSxHQUFiLFVBQWMsT0FBYTtRQUN2QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFJLGVBQU0sQ0FBQyxVQUFVLFVBQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRU0s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LEVBQUUsTUFBYztRQUN0RCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFJLGVBQU0sQ0FBQyxVQUFVLGlDQUE0QixRQUFRLFNBQUksTUFBUSxDQUFDLENBQUM7SUFDL0YsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQUFDLEFBOUZELElBOEZDO0FBOUZZLDBCQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjb25maWd9IGZyb20gJy4uL3V0aWxzL2NvbmZpZyc7XG5pbXBvcnQge0h0dHBDbGllbnR9IGZyb20gJy4uL3V0aWxzL2h0dHAtY2xpZW50JztcbmltcG9ydCB7SXRlbVRhZ30gZnJvbSAnLi4vdXRpbHMvdHlwZXMvaXRlbS10YWcnO1xuaW1wb3J0IHtJdGVtfSBmcm9tICcuLi91dGlscy90eXBlcy9pdGVtJztcbmltcG9ydCB7SXRlbVF1ZXJ5UmVzcG9uc2V9IGZyb20gJy4uL3V0aWxzL3R5cGVzL2l0ZW0tcXVlcnktcmVzcG9uc2UnO1xuaW1wb3J0IHtJdGVtTGVuZE9yZGVyfSBmcm9tICcuLi91dGlscy90eXBlcy9pdGVtLWxlbmQtb3JkZXInO1xuXG5leHBvcnQgY2xhc3MgSXRlbUFwaSB7XG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaHR0cCA9IG5ldyBIdHRwQ2xpZW50KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRhZ3MoKTogUHJvbWlzZTxJdGVtVGFnW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW0vdGFnYCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRhZyh0YWdJZDogbnVtYmVyKTogUHJvbWlzZTxJdGVtVGFnPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtL3RhZy8ke3RhZ0lkfWApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVUYWcobmV3VGFnOiBJdGVtVGFnKTogUHJvbWlzZTxJdGVtVGFnPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdChgJHtjb25maWcuYXBpQmFzZVVybH0vaXRlbS90YWdgLCBuZXdUYWcpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVUYWcodGFnSWQ6IG51bWJlciwgbmV3VGFnOiBJdGVtVGFnKTogUHJvbWlzZTxJdGVtVGFnPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtL3RhZy8ke3RhZ0lkfWAsIG5ld1RhZyk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlbGV0ZVRhZyh0YWdJZDogbnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5kZWxldGUoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW0vdGFnLyR7dGFnSWR9YCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZShuZXdJdGVtOiBJdGVtKTogUHJvbWlzZTxJdGVtPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdChgJHtjb25maWcuYXBpQmFzZVVybH0vaXRlbWAsIG5ld0l0ZW0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZWFyY2goczogc3RyaW5nKTogUHJvbWlzZTxJdGVtW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW0vc2VhcmNoYCwge3M6IHN9KTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBxdWVyeShwYWdlOiBudW1iZXIsIHNpemU6IG51bWJlciwgdGFnSWQ/OiBudW1iZXIsIGNsYXNzSWQ/OiBudW1iZXIpOiBQcm9taXNlPEl0ZW1RdWVyeVJlc3BvbnNlPiB7XG4gICAgICAgIGxldCBxdWVyeSA9IDxhbnk+e3BhZ2U6IHBhZ2UsIHNpemU6IHNpemV9O1xuICAgICAgICBpZiAodGFnSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5Wyd0YWdJZCddID0gdGFnSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsYXNzSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5WydjbGFzc0lkJ10gPSBjbGFzc0lkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtYCwgcXVlcnkpO1xuICAgIH1cblxuXG4gICAgcHVibGljIHF1ZXJ5TWdyKHBhZ2U6IG51bWJlciwgc2l6ZTogbnVtYmVyKTogUHJvbWlzZTxJdGVtUXVlcnlSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldChgJHtjb25maWcuYXBpQmFzZVVybH0vaXRlbS9tZ3JgLCB7XG4gICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0T25lKGlkOiBudW1iZXIpOiBQcm9taXNlPEl0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW0vJHtpZH1gKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGV0YWlsKGlkOiBudW1iZXIpOiBQcm9taXNlPEl0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW1zL2RldGFpbC8ke2lkfWApO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGUoaWQ6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtLyR7aWR9YCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShpZDogbnVtYmVyLCBuZXdJdGVtOiBJdGVtKTogUHJvbWlzZTxJdGVtPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtLyR7aWR9YCwgbmV3SXRlbSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxlbmQob3JkZXI6IEl0ZW1MZW5kT3JkZXIpOiBQcm9taXNlPEl0ZW0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW0vbGVuZGAsIG9yZGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hblJldHVybihyZWNvcmRJZDogc3RyaW5nKTogUHJvbWlzZTxJdGVtTGVuZE9yZGVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtcy9yZXR1cm4vJHtyZWNvcmRJZH1gKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TG9hbmVkUmVjb3JkcyhzdGF0dXNMaXN0OiBudW1iZXJbXSk6IFByb21pc2U8SXRlbUxlbmRPcmRlcltdPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtcy9sb2FuZWRgLCB7c3RhdHVzOiBzdGF0dXNMaXN0LmpvaW4oJywnKX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxJdGVtTG9hbihpZDogbnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5kZWxldGUoYCR7Y29uZmlnLmFwaUJhc2VVcmx9L2l0ZW1zL2xvYW5SZWNvcmQvY2FuY2VsLyR7aWR9YCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldExvYW5lZFJlY29yZChyZWNvcmRJZDogc3RyaW5nKTogUHJvbWlzZTxJdGVtTGVuZE9yZGVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KGAke2NvbmZpZy5hcGlCYXNlVXJsfS9pdGVtcy9sb2FuUmVjb3JkLyR7cmVjb3JkSWR9YCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYW5lZFJlY29yZFN0YXR1cyhyZWNvcmRJZDogc3RyaW5nLCBzdGF0dXM6IG51bWJlcik6IFByb21pc2U8SXRlbUxlbmRPcmRlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dChgJHtjb25maWcuYXBpQmFzZVVybH0vaXRlbXMvbG9hblJlY29yZC9zdGF0dXMvJHtyZWNvcmRJZH0vJHtzdGF0dXN9YCk7XG4gICAgfVxufVxuIl19