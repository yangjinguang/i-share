"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var item_api_1 = require("../../../apis/item-api");
Page({
    data: {
        itemApi: {},
        orderId: 0,
        itemLendOrder: {},
        isAgree: true
    },
    onLoad: function (query) {
        this.setData({
            itemApi: new item_api_1.ItemApi(),
            orderId: query.id ? Number(query.id) : 0
        });
    },
    onShow: function () {
        var _this = this;
        if (this.data.orderId) {
            this.data.itemApi.getLendDetail(this.data.orderId).then(function (result) {
                _this.setData({
                    itemLendOrder: result
                });
            });
        }
    },
    agreeChange: function (e) {
        this.setData({
            isAgree: e.detail.value == 'true'
        });
        console.log(this.data);
    },
    formSubmit: function () {
        var body = {
            orderId: this.data.orderId,
            agree: this.data.isAgree,
        };
        this.data.itemApi.lendOrderHandle(body).then(function () {
            wx.navigateBack({
                delta: 1
            });
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hbi1kZXRhaWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsb2FuLWRldGFpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1EQUErQztBQUkvQyxJQUFJLENBQUM7SUFDRCxJQUFJLEVBQUU7UUFDRixPQUFPLEVBQVcsRUFBRTtRQUNwQixPQUFPLEVBQUUsQ0FBQztRQUNWLGFBQWEsRUFBaUIsRUFBRTtRQUNoQyxPQUFPLEVBQUUsSUFBSTtLQUNoQjtJQUNELE1BQU0sRUFBTixVQUFPLEtBQVU7UUFDYixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsT0FBTyxFQUFFLElBQUksa0JBQU8sRUFBRTtZQUN0QixPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMzQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsTUFBTTtRQUFOLGlCQVFDO1FBUEcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxNQUFNO2dCQUMxRCxLQUFJLENBQUMsT0FBTyxDQUFDO29CQUNULGFBQWEsRUFBRSxNQUFNO2lCQUN4QixDQUFDLENBQUM7WUFDUCxDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUNELFdBQVcsRUFBWCxVQUFZLENBQU07UUFDZCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1YsT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU07U0FDcEMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELFVBQVUsRUFBVjtRQUNJLElBQUksSUFBSSxHQUF3QjtZQUM1QixPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQzFCLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87U0FDM0IsQ0FBQztRQUNGLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDekMsRUFBRSxDQUFDLFlBQVksQ0FBQztnQkFDWixLQUFLLEVBQUUsQ0FBQzthQUNYLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQThDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0l0ZW1BcGl9IGZyb20gJy4uLy4uLy4uL2FwaXMvaXRlbS1hcGknO1xuaW1wb3J0IHtJdGVtTGVuZE9yZGVyfSBmcm9tICcuLi8uLi8uLi91dGlscy90eXBlcy9pdGVtLWxlbmQtb3JkZXInO1xuaW1wb3J0IHtMZW5kT3JkZXJIYW5kbGVCb2R5fSBmcm9tICcuLi8uLi8uLi91dGlscy90eXBlcy9sZW5kLW9yZGVyLWhhbmRsZS1ib2R5JztcblxuUGFnZSh7XG4gICAgZGF0YToge1xuICAgICAgICBpdGVtQXBpOiA8SXRlbUFwaT57fSxcbiAgICAgICAgb3JkZXJJZDogMCxcbiAgICAgICAgaXRlbUxlbmRPcmRlcjogPEl0ZW1MZW5kT3JkZXI+e30sXG4gICAgICAgIGlzQWdyZWU6IHRydWVcbiAgICB9LFxuICAgIG9uTG9hZChxdWVyeTogYW55KSB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBpdGVtQXBpOiBuZXcgSXRlbUFwaSgpLFxuICAgICAgICAgICAgb3JkZXJJZDogcXVlcnkuaWQgPyBOdW1iZXIocXVlcnkuaWQpIDogMFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG9uU2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5vcmRlcklkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuaXRlbUFwaS5nZXRMZW5kRGV0YWlsKHRoaXMuZGF0YS5vcmRlcklkKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUxlbmRPcmRlcjogcmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWdyZWVDaGFuZ2UoZTogYW55KSB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgICAgICAgaXNBZ3JlZTogZS5kZXRhaWwudmFsdWUgPT0gJ3RydWUnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xuICAgIH0sXG4gICAgZm9ybVN1Ym1pdCgpIHtcbiAgICAgICAgbGV0IGJvZHkgPSA8TGVuZE9yZGVySGFuZGxlQm9keT57XG4gICAgICAgICAgICBvcmRlcklkOiB0aGlzLmRhdGEub3JkZXJJZCxcbiAgICAgICAgICAgIGFncmVlOiB0aGlzLmRhdGEuaXNBZ3JlZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kYXRhLml0ZW1BcGkubGVuZE9yZGVySGFuZGxlKGJvZHkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgd3gubmF2aWdhdGVCYWNrKHtcbiAgICAgICAgICAgICAgICBkZWx0YTogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZ3JlZSgpIHtcbiAgICAvLyAgICAgd3guc2hvd01vZGFsKHtcbiAgICAvLyAgICAgICAgIHRpdGxlOiAn5ZCM5oSP5q2k5qyh5YCf6ZiF55Sz6K+3PycsXG4gICAgLy8gICAgICAgICBjb250ZW50OiAnJyxcbiAgICAvLyAgICAgICAgIGNvbmZpcm1UZXh0OiAn56Gu5a6aJyxcbiAgICAvLyAgICAgICAgIGNhbmNlbFRleHQ6ICflj5bmtognLFxuICAgIC8vICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIC8vIHRoaXMuZGF0YS5pdGVtQXBpLmxvYW5lZFJlY29yZFN0YXR1cyh0aGlzLmRhdGEub3JkZXJJZCwgMikudGhlbigoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgLy8gICAgIHd4Lm5hdmlnYXRlQmFjayh7XG4gICAgLy8gICAgICAgICAgICAgLy8gICAgICAgICBkZWx0YTogMVxuICAgIC8vICAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAvLyAgICAgICAgICAgICAvLyB9KTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfSxcbiAgICAvLyByZWplY3QoKSB7XG4gICAgLy8gICAgIHd4LnNob3dNb2RhbCh7XG4gICAgLy8gICAgICAgICB0aXRsZTogJ+mps+WbnuatpOasoeWAn+mYheeUs+ivtz8nLFxuICAgIC8vICAgICAgICAgY29udGVudDogJycsXG4gICAgLy8gICAgICAgICBjb25maXJtVGV4dDogJ+ehruWumicsXG4gICAgLy8gICAgICAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJyxcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmRhdGEuaXRlbUFwaS5sb2FuZWRSZWNvcmRTdGF0dXModGhpcy5kYXRhLnJlY29yZElkLCAzKS50aGVuKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgd3gubmF2aWdhdGVCYWNrKHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiAxXG4gICAgLy8gICAgICAgICAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9KTtcbiAgICAvLyB9LFxuICAgIC8vIGFncmVlUmV0dXJuKCkge1xuICAgIC8vICAgICB3eC5zaG93TW9kYWwoe1xuICAgIC8vICAgICAgICAgdGl0bGU6ICfnoa7orqTlvZLov5g/JyxcbiAgICAvLyAgICAgICAgIGNvbnRlbnQ6ICfor7fnoa7kv53lm77kuablt7Lnu4/lvZLov5jvvIEnLFxuICAgIC8vICAgICAgICAgY29uZmlybVRleHQ6ICfnoa7lrponLFxuICAgIC8vICAgICAgICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsXG4gICAgLy8gICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5kYXRhLml0ZW1BcGkubG9hblJldHVybih0aGlzLmRhdGEucmVjb3JkSWQpLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgICAgICB3eC5uYXZpZ2F0ZUJhY2soe1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGVsdGE6IDFcbiAgICAvLyAgICAgICAgICAgICAgICAgfSk7XG4gICAgLy8gICAgICAgICAgICAgfSk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cbn0pO1xuIl19